### 一、函数原型/函数声明

#### 1、函数原型

 (1)告知编译器函数的类型

(2)函数原型声明顺序要在函数调用之前

(3)函数原型可以放在在函数头文件中,函数定义放在函数源文件中

#### 2、函数原型结构

(1)返回值类型(函数类型)

  **void(无返回值类型)、Type、Type *(指向特定类型的指针类型)、void* *(通用类型指针)**

(2)函数名

  驼峰命名法(单词首字母大写)、匈牙利命名法(单词之间以_连接,全部小写)

(3)函数参数

  带形式参数(参数个数、参数类型、参数名)、不带参数(不填写或者void)

(4)函数原型以;结尾

(5)函数原型结构

```c
//void/返回值类型   函数名(参数类型 参数名); 
void/Type/Type*  function_name(Type args);
```



### 二、函数定义

#### 1、函数定义

(1)函数实际的源代码

(2)函数定义放在函数源文件中

#### 2、函数头

(1)返回值类型(函数类型)

 **void(无返回值类型)、Type、Type *(指向特定类型的指针类型)、void* *(通用类型指针)**

(2)函数名

  驼峰命名法(单词首字母大写)、匈牙利命名法(单词之间以_连接,全部小写)

(3)函数参数

 带形式参数(参数个数、参数类型、参数名)、不带参数(不填写或者void)

#### 3、函数体

(1)局部变量声明、初始化、赋值

(2)表达式语句(包括函数表达式语句)

#### 4、参数值传递

(1)普通变量(基本数据类型)

  **形式参数是实际参数值的副本,函数中对形参的修改不会影响实参变化 **

(2)指针变量(数组、结构体)

  **形式参数是一个地址值,是实际参数地址的副本(非实参值的副本),函数中对形参修改可能会影响实参值变化 **



#### 5、指针类型形参

(1)用const修饰指针类型的形参时,在函数中指向类型形参仅仅是只读的,不能修改值,否则会报错(const Type * var)

```c
#define N 6

//定义一个int类型的数组
int array[N] = {1, 2, 3, 4, 5, 6}

//获取数组元素中的最大值(将数组设置为只读)
int get_max(const array, int N) {
    //定义一个最大值变量
    int max = array[0];
    
    //遍历数组(指针法遍历)
    for(int i = 0; i < N; i++) {
        if(max < *(array + i) {
            max = *(array + i);
        }
    }
    
    return max;
}
```



(2)在函数体中形参指向该类型的其他变量,从而不再指向原实参,则在函数中修改形参值,不会影响实参值

````c
//定义一个结点类型的结构体
typedef struct Node {
    int data;
    Node *next;
};

//声明一个产生结构体的函数原型
void create_node(Node *node);

//主函数
int main(void) {
    //声明一个Node类型的指针变量,初始化为NULL(代表不指向任何变量)
    Node *node = NULL;
    
    //调用产生结构体的函数
    create_node(node)；
        
    //用于判断node是否是NULL(间接验证create_node()函数调用是否对node实参有影响)
    if(node == NULL) {
        printf("node为NULL");
    } else {
        printf("node不为NULL");
    }
}

//产生结构体的函数定义
void create_node(Node *node) {
    //利用do-while循环 + malloc()函数产生一个不是NULL的内存地址
    do {
        node = (Node*)malloc(sizeof(Node));
    } while(node == NULL);
    
    node->data = 1;
    node->next = NULL;
}
````



#### 6、函数定义结构

```c
void/Type/Type*  function_name(Type args) {
    //局部变量声明、初始化和赋值等
    Type type = value;
    
    //表达式
}
```



### 三、函数调用

#### 1、带返回值

(1)当做一个右值,可以赋值给左值

(2)当做另一个函数的实参

(3)当做一个值,参与表达式运算

#### 2、不带返回值

#### 3、顺序

   调用顺序在函数原型之后



### 四、函数体

#### 1、不带返回值

  函数中出现return;表示提前结束在执行函数语句

#### 2、带返回值

 (1)普通变量：Type type;

   返回的值可以是定义在函数里的局部变量或者形式参数 

 (2)指针变量：Type* / void*

   **返回的指针不能指向函数里的局部变量或者形式参数,因为调用完函数局部变量或者形式参数将被销毁,可以指向函数里动态分配的内存地址 **

```c
//传入数组的长度n
int *get_array(int n) {
    //调用malloc()函数动态分配一个内存地址
    int *p = (int*)malloc(n * sizeof(int));
    
    return p;
}
```



### 五、函数与指针

#### 1、函数指针

(1)指向一个函数的指针,本质上是一个指针



#### 2、指针函数

(1)返回值是一个指针的函数,本质上是一个函数

```c
//传入数组的长度n
int *get_array(int n) {
    //调用malloc()函数动态分配一个内存地址
    int *p = (int*)malloc(n * sizeof(int));
    
    return p;
}
```

(2)指针函数结构

```c
//函数原型/函数声明
Type *function_name(Type args);

//函数定义
Type *function_name(Type args) {
    
}

/*
 * 1.由于()优先级是1, *优先级是2
 * 2.所以()优先级高于*
 * 3.结论：首先()是一个函数,其次由*可知是返回一个指针类型的函数
 */
```

